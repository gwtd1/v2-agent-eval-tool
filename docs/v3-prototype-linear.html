<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V3 Prototype - Linear Style</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0D0D0D;
      color: #E8E8E8;
    }

    /* Linear-style colors */
    :root {
      --bg-primary: #0D0D0D;
      --bg-secondary: #161616;
      --bg-tertiary: #1F1F1F;
      --bg-hover: #252525;
      --border: #2E2E2E;
      --text-primary: #E8E8E8;
      --text-secondary: #9B9B9B;
      --text-tertiary: #6B6B6B;
      --accent: #5E6AD2;
      --accent-hover: #6E7AE2;
      --success: #4ADE80;
      --error: #F87171;
    }

    /* Linear-style subtle hover */
    .linear-hover {
      transition: background-color 0.15s ease;
    }
    .linear-hover:hover {
      background-color: var(--bg-hover);
    }

    /* Linear-style focus ring */
    .linear-focus:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--accent);
    }

    /* Expandable content */
    .expandable-content {
      transition: max-height 0.2s ease-out, opacity 0.2s ease-out;
      overflow: hidden;
    }
    .expandable-content.collapsed {
      max-height: 0;
      opacity: 0;
    }
    .expandable-content.expanded {
      max-height: 1000px;
      opacity: 1;
    }

    .chevron {
      transition: transform 0.2s ease;
    }
    .chevron.rotated {
      transform: rotate(180deg);
    }

    /* Linear-style scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #3D3D3D;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #4D4D4D;
    }

    /* Linear gradient accent */
    .linear-gradient {
      background: linear-gradient(135deg, #5E6AD2 0%, #8B5CF6 100%);
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- Linear-style header -->
  <header class="px-4 h-12 flex items-center border-b" style="border-color: var(--border); background: var(--bg-secondary);">
    <div class="flex items-center gap-3 flex-1">
      <div class="w-6 h-6 rounded linear-gradient"></div>
      <span class="text-sm font-semibold" style="color: var(--text-primary);">Agent Eval</span>
      <span style="color: var(--text-tertiary);">/</span>
      <span class="text-sm" style="color: var(--text-secondary);">math-tutor</span>
    </div>
    <div class="flex items-center gap-2">
      <button class="px-3 py-1.5 text-xs font-medium rounded linear-hover" style="color: var(--text-secondary);">
        Export
      </button>
      <button class="px-3 py-1.5 text-xs font-medium rounded" style="background: var(--accent); color: white;">
        Run Tests
      </button>
    </div>
  </header>

  <!-- Three-Pane Layout -->
  <div class="flex h-[calc(100vh-48px)]">

    <!-- Left Panel: Test Case List -->
    <div class="w-60 border-r flex flex-col" style="border-color: var(--border); background: var(--bg-secondary);">
      <!-- Header -->
      <div class="px-3 py-2 flex items-center justify-between">
        <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-tertiary);">Tests</span>
        <span class="text-xs px-1.5 py-0.5 rounded" style="background: var(--bg-tertiary); color: var(--text-secondary);">5</span>
      </div>

      <!-- Filter Tabs - Linear style pill tabs -->
      <div class="px-2 py-1">
        <div class="flex p-0.5 rounded" style="background: var(--bg-tertiary);">
          <button class="flex-1 px-2 py-1 text-xs font-medium rounded" style="background: var(--bg-hover); color: var(--text-primary);">All</button>
          <button class="flex-1 px-2 py-1 text-xs font-medium rounded" style="color: var(--text-tertiary);">Pending</button>
          <button class="flex-1 px-2 py-1 text-xs font-medium rounded" style="color: var(--text-tertiary);">Done</button>
        </div>
      </div>

      <!-- Test Case Items -->
      <div class="flex-1 overflow-y-auto px-2 py-1 space-y-0.5">
        <!-- Selected Item -->
        <div class="px-2 py-2 rounded cursor-pointer" style="background: var(--accent); background: rgba(94, 106, 210, 0.15);">
          <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 rounded-full" style="background: var(--success);"></div>
            <span class="text-sm flex-1 truncate" style="color: var(--text-primary);">What is 2 + 2?</span>
          </div>
        </div>

        <div class="px-2 py-2 rounded cursor-pointer linear-hover">
          <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 rounded-full" style="background: var(--error);"></div>
            <span class="text-sm flex-1 truncate" style="color: var(--text-secondary);">Calculate derivative...</span>
          </div>
        </div>

        <div class="px-2 py-2 rounded cursor-pointer linear-hover">
          <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 rounded-full" style="background: var(--text-tertiary);"></div>
            <span class="text-sm flex-1 truncate" style="color: var(--text-secondary);">Solve for x: 3x + 5...</span>
          </div>
        </div>

        <div class="px-2 py-2 rounded cursor-pointer linear-hover">
          <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 rounded-full" style="background: var(--success);"></div>
            <span class="text-sm flex-1 truncate" style="color: var(--text-secondary);">Square root of 144?</span>
          </div>
        </div>

        <div class="px-2 py-2 rounded cursor-pointer linear-hover">
          <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 rounded-full" style="background: var(--text-tertiary);"></div>
            <span class="text-sm flex-1 truncate" style="color: var(--text-secondary);">Pythagorean theorem</span>
          </div>
        </div>
      </div>

      <!-- Progress - Linear style -->
      <div class="px-3 py-3 border-t" style="border-color: var(--border);">
        <div class="flex items-center justify-between text-xs mb-1.5" style="color: var(--text-tertiary);">
          <span>Progress</span>
          <span>60%</span>
        </div>
        <div class="h-1 rounded-full overflow-hidden" style="background: var(--bg-tertiary);">
          <div class="h-full rounded-full linear-gradient" style="width: 60%;"></div>
        </div>
      </div>
    </div>

    <!-- Middle Panel: Conversation View -->
    <div class="flex-1 overflow-y-auto" style="background: var(--bg-primary);">
      <div class="max-w-2xl mx-auto py-8 px-6 space-y-4">

        <!-- Prompt Section -->
        <section class="rounded-lg overflow-hidden" style="background: var(--bg-secondary); border: 1px solid var(--border);">
          <div class="flex items-center gap-2 px-4 py-2.5 border-b" style="border-color: var(--border); background: rgba(59, 130, 246, 0.08);">
            <div class="w-5 h-5 rounded flex items-center justify-center text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #60A5FA;">P</div>
            <span class="text-xs font-semibold uppercase tracking-wider" style="color: #60A5FA;">Prompt</span>
          </div>
          <div class="px-4 py-3">
            <p class="text-sm" style="color: var(--text-primary);">What is 2 + 2?</p>
          </div>
        </section>

        <!-- Agent Response Section -->
        <section class="rounded-lg overflow-hidden" style="background: var(--bg-secondary); border: 1px solid var(--border);">
          <div class="flex items-center justify-between px-4 py-2.5 border-b" style="border-color: var(--border); background: rgba(52, 211, 153, 0.08);">
            <div class="flex items-center gap-2">
              <div class="w-5 h-5 rounded flex items-center justify-center text-xs font-semibold" style="background: rgba(52, 211, 153, 0.2); color: #34D399;">R</div>
              <span class="text-xs font-semibold uppercase tracking-wider" style="color: #34D399;">Response</span>
            </div>
            <a href="#" class="text-xs font-medium flex items-center gap-1" style="color: var(--accent);">
              View full
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
              </svg>
            </a>
          </div>
          <div class="px-4 py-3">
            <p class="text-sm" style="color: var(--text-primary);">The answer to 2 + 2 is <strong>4</strong>.</p>
            <p class="text-sm mt-2" style="color: var(--text-secondary);">This is a basic addition problem. When you add 2 and 2 together, you get 4.</p>
          </div>
        </section>

        <!-- Conversation Traces - Expandable -->
        <section class="rounded-lg overflow-hidden" style="background: var(--bg-secondary); border: 1px solid var(--border);">
          <div class="flex items-center justify-between px-4 py-2.5 cursor-pointer linear-hover" style="background: rgba(139, 92, 246, 0.08);" onclick="toggleSection('traces')">
            <div class="flex items-center gap-2">
              <div class="w-5 h-5 rounded flex items-center justify-center text-xs font-semibold" style="background: rgba(139, 92, 246, 0.2); color: #A78BFA;">T</div>
              <span class="text-xs font-semibold uppercase tracking-wider" style="color: #A78BFA;">Traces</span>
              <span class="text-xs px-1.5 py-0.5 rounded" style="background: var(--bg-tertiary); color: var(--text-tertiary);">2</span>
            </div>
            <svg id="traces-chevron" class="w-4 h-4 chevron" style="color: var(--text-tertiary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
          <div id="traces-content" class="expandable-content collapsed border-t" style="border-color: var(--border);">
            <div class="px-4 py-4">
              <div class="flex items-center justify-center gap-3 py-2">
                <div class="px-3 py-1.5 rounded text-xs font-medium" style="background: rgba(59, 130, 246, 0.15); color: #60A5FA;">Input</div>
                <svg class="w-4 h-4" style="color: var(--text-tertiary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
                <div class="px-3 py-1.5 rounded text-xs font-medium" style="background: rgba(139, 92, 246, 0.15); color: #A78BFA;">Agent</div>
                <svg class="w-4 h-4" style="color: var(--text-tertiary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
                <div class="px-3 py-1.5 rounded text-xs font-medium" style="background: rgba(52, 211, 153, 0.15); color: #34D399;">Response</div>
              </div>
            </div>
          </div>
        </section>

        <!-- LLM Evaluation - Expandable -->
        <section class="rounded-lg overflow-hidden" style="background: var(--bg-secondary); border: 1px solid var(--border);">
          <div class="flex items-center justify-between px-4 py-2.5 cursor-pointer linear-hover" style="background: rgba(94, 106, 210, 0.08);" onclick="toggleSection('llm')">
            <div class="flex items-center gap-2">
              <div class="w-5 h-5 rounded flex items-center justify-center text-xs font-semibold" style="background: rgba(94, 106, 210, 0.2); color: #818CF8;">L</div>
              <span class="text-xs font-semibold uppercase tracking-wider" style="color: #818CF8;">LLM Judge</span>
              <span class="text-xs px-1.5 py-0.5 rounded font-medium" style="background: rgba(74, 222, 128, 0.15); color: var(--success);">Pass</span>
            </div>
            <svg id="llm-chevron" class="w-4 h-4 chevron" style="color: var(--text-tertiary);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </div>
          <div id="llm-content" class="expandable-content collapsed border-t" style="border-color: var(--border);">
            <div class="px-4 py-4 space-y-3">
              <div>
                <span class="text-xs font-medium uppercase tracking-wider" style="color: var(--text-tertiary);">Reasoning</span>
                <p class="text-sm mt-1.5 p-3 rounded" style="background: var(--bg-tertiary); color: var(--text-primary);">
                  The agent correctly answered that 2 + 2 = 4. The response is accurate, clear, and provides a brief explanation suitable for educational purposes.
                </p>
              </div>
              <p class="text-xs" style="color: var(--text-tertiary);">Evaluated 2 hours ago</p>
            </div>
          </div>
        </section>

        <!-- Ground Truth Section -->
        <section class="rounded-lg overflow-hidden" style="background: var(--bg-secondary); border: 1px solid var(--border);">
          <div class="flex items-center gap-2 px-4 py-2.5 border-b" style="border-color: var(--border); background: rgba(251, 191, 36, 0.08);">
            <div class="w-5 h-5 rounded flex items-center justify-center text-xs font-semibold" style="background: rgba(251, 191, 36, 0.2); color: #FBBF24;">G</div>
            <span class="text-xs font-semibold uppercase tracking-wider" style="color: #FBBF24;">Ground Truth</span>
          </div>
          <div class="px-4 py-3">
            <p class="text-sm" style="color: var(--text-primary);">The answer should be 4. The agent should demonstrate understanding of basic addition.</p>
          </div>
        </section>

      </div>
    </div>

    <!-- Right Panel: Evaluation Controls -->
    <div class="w-72 border-l flex flex-col" style="border-color: var(--border); background: var(--bg-secondary);">
      <!-- Header -->
      <div class="px-4 py-3 border-b" style="border-color: var(--border);">
        <div class="flex items-center justify-between">
          <span class="text-sm font-semibold" style="color: var(--text-primary);">Evaluate</span>
          <span class="text-xs px-2 py-0.5 rounded" style="background: var(--bg-tertiary); color: var(--text-tertiary);">1 / 5</span>
        </div>
      </div>

      <!-- Rating Section -->
      <div class="p-4 border-b" style="border-color: var(--border);">
        <label class="block text-xs font-medium uppercase tracking-wider mb-3" style="color: var(--text-tertiary);">Rating</label>
        <div class="grid grid-cols-2 gap-2">
          <!-- Pass Button - Selected -->
          <button class="flex items-center justify-center gap-2 px-3 py-3 rounded-lg text-sm font-medium transition-all" style="background: rgba(74, 222, 128, 0.15); color: var(--success); border: 1px solid var(--success);">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
            </svg>
            Pass
          </button>
          <!-- Fail Button -->
          <button class="flex items-center justify-center gap-2 px-3 py-3 rounded-lg text-sm font-medium transition-all linear-hover" style="background: var(--bg-tertiary); color: var(--text-secondary); border: 1px solid var(--border);">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z" />
            </svg>
            Fail
          </button>
        </div>
      </div>

      <!-- Notes Section -->
      <div class="flex-1 p-4 flex flex-col">
        <label class="block text-xs font-medium uppercase tracking-wider mb-2" style="color: var(--text-tertiary);">Notes</label>
        <textarea
          class="flex-1 w-full px-3 py-2 text-sm rounded-lg resize-none linear-focus"
          style="background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border);"
          placeholder="Add evaluation notes..."
        >The agent provided a correct and clear explanation.</textarea>
        <div class="flex items-center gap-1.5 mt-2">
          <div class="w-1.5 h-1.5 rounded-full" style="background: var(--success);"></div>
          <span class="text-xs" style="color: var(--text-tertiary);">Saved</span>
        </div>
      </div>

      <!-- Navigation -->
      <div class="p-4 border-t" style="border-color: var(--border);">
        <div class="flex gap-2">
          <button class="flex-1 px-3 py-2.5 text-sm font-medium rounded-lg linear-hover" style="background: var(--bg-tertiary); color: var(--text-secondary);">
            ← Prev
          </button>
          <button class="flex-1 px-3 py-2.5 text-sm font-medium rounded-lg" style="background: var(--accent); color: white;">
            Next →
          </button>
        </div>
      </div>
    </div>

  </div>

  <script>
    function toggleSection(sectionId) {
      const content = document.getElementById(sectionId + '-content');
      const chevron = document.getElementById(sectionId + '-chevron');

      if (content.classList.contains('collapsed')) {
        content.classList.remove('collapsed');
        content.classList.add('expanded');
        chevron.classList.add('rotated');
      } else {
        content.classList.remove('expanded');
        content.classList.add('collapsed');
        chevron.classList.remove('rotated');
      }
    }
  </script>

</body>
</html>
